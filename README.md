# Bentana Insights

> AI é©…å‹•çš„é æ¸¬å¸‚å ´åˆ†æå¹³å° - å¯¦æ™‚è¿½è¹¤ Polymarket ä¸Šçš„é«˜å¯ç–‘åº¦äº¤æ˜“è€…

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.9-blue.svg)](https://www.typescriptlang.org/)
[![React](https://img.shields.io/badge/React-19-61DAFB.svg)](https://reactjs.org/)
[![tRPC](https://img.shields.io/badge/tRPC-11-2596BE.svg)](https://trpc.io/)

## ğŸ“– é …ç›®ç°¡ä»‹

Bentana Insights æ˜¯ä¸€å€‹å°ˆç‚º Polymarket é æ¸¬å¸‚å ´è¨­è¨ˆçš„ AI åˆ†æå¹³å°ï¼Œé€šéå¤šç¶­åº¦å¯ç–‘åº¦è©•ä¼°ç³»çµ±ï¼Œå¹«åŠ©ç”¨æˆ¶è­˜åˆ¥å¯èƒ½å…·æœ‰å…§å¹•ä¿¡æ¯çš„é«˜åƒ¹å€¼äº¤æ˜“è€…ï¼Œä¸¦æä¾›æ™ºèƒ½è·Ÿå–®å»ºè­°ã€‚

### æ ¸å¿ƒåƒ¹å€¼

- **ğŸ¯ ç²¾æº–è­˜åˆ¥** - å¤šç¶­åº¦å¯ç–‘åº¦è©•ä¼°ç®—æ³•ï¼Œè­˜åˆ¥ç•°å¸¸äº¤æ˜“æ¨¡å¼
- **ğŸ“Š æ•¸æ“šå¯è¦–åŒ–** - ç›´è§€çš„åœ–è¡¨å±•ç¤ºåœ°å€è¡¨ç¾å’Œå¸‚å ´è¶¨å‹¢
- **ğŸ”” æ™ºèƒ½è­¦å ±** - è‡ªå‹•ç›£æ§è¨‚é–±çš„åœ°å€å’Œå¸‚å ´ï¼ŒåŠæ™‚æ¨é€é€šçŸ¥
- **âš–ï¸ ä¸¦æ’æ¯”è¼ƒ** - åŒæ™‚æ¯”è¼ƒå¤šå€‹åœ°å€ï¼Œå¿«é€Ÿæ‰¾å‡ºæœ€ä½³è·Ÿå–®å°è±¡

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### 1. åœ°å€æ’è¡Œæ¦œ
- æŒ‰å¯ç–‘åº¦åˆ†æ•¸æ’åºçš„äº¤æ˜“è€…åˆ—è¡¨
- å¤šç¶­åº¦ç¯©é¸ï¼ˆå‹ç‡ã€äº¤æ˜“é‡ã€äº¤æ˜“æ¬¡æ•¸ï¼‰
- é¢¨éšªç­‰ç´šæ¨™è¨˜ï¼ˆä½é¢¨éšªã€ä¸­ç­‰é¢¨éšªã€é«˜é¢¨éšªã€æ¥µé«˜é¢¨éšªï¼‰

### 2. åœ°å€è©³æƒ…åˆ†æ
- **å¯ç–‘åº¦åˆ†æ•¸åˆ†è§£** - 5 å€‹ç¶­åº¦çš„è©³ç´°è©•åˆ†ï¼ˆå‹ç‡ç•°å¸¸é«˜ã€ç¶“å¸¸æ—©æœŸä¸‹æ³¨ã€å¤§é¡äº¤æ˜“ã€æ™‚æ©Ÿç²¾æº–ã€é¸æ“‡æ€§åƒèˆ‡ï¼‰
- **å‹ç‡è¶¨å‹¢åœ–è¡¨** - 12 å€‹æœˆçš„æ­·å²å‹ç‡è®ŠåŒ–
- **å¸‚å ´é¡åˆ¥å°ˆæ³¨åº¦** - åœ“é¤…åœ–å±•ç¤ºäº¤æ˜“è€…çš„å¸‚å ´åå¥½
- **å¸‚å ´è¡¨ç¾åˆ†æ** - è©³ç´°çš„å¸‚å ´ç´šåˆ¥è¡¨ç¾æ•¸æ“š
- **äº¤æ˜“æ­·å²æ™‚é–“ç·š** - å®Œæ•´çš„äº¤æ˜“è¨˜éŒ„

### 3. åœ°å€æ¯”è¼ƒ
- ä¸¦æ’æ¯”è¼ƒ 2-4 å€‹åœ°å€çš„è©³ç´°è¡¨ç¾
- **å¤šç¶­åº¦é›·é”åœ–** - è¦–è¦ºåŒ–å±•ç¤ºå„åœ°å€åœ¨ 5 å€‹ç¶­åº¦çš„è¡¨ç¾
- **ç¶œåˆè©•åˆ†ç³»çµ±** - åŸºæ–¼å‹ç‡ã€å¯ç–‘åº¦ã€äº¤æ˜“é‡ã€äº¤æ˜“æ¬¡æ•¸è¨ˆç®—
- **è©³ç´°æŒ‡æ¨™å°æ¯”è¡¨æ ¼** - 8 å€‹é—œéµæŒ‡æ¨™çš„ä¸¦æ’æ¯”è¼ƒ
- **æ¨è–¦æœ€ä½³æ¨™è¨˜** - è‡ªå‹•æ¨™è¨˜ç¶œåˆè©•åˆ†æœ€é«˜çš„åœ°å€

### 4. è­¦å ±è¨‚é–±ç³»çµ±
- è¨‚é–±ç‰¹å®šåœ°å€æˆ–å¸‚å ´
- å¤šç¨®è­¦å ±é¡å‹ï¼ˆé«˜å¯ç–‘åº¦åœ°å€äº¤æ˜“ã€å¤§é¡äº¤æ˜“ã€åƒ¹æ ¼ç•°å¸¸ï¼‰
- æ‡‰ç”¨å…§é€šçŸ¥ä¸­å¿ƒ
- é€šçŸ¥å»é‡æ©Ÿåˆ¶

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹

### å‰ç«¯æŠ€è¡“æ£§
- **æ¡†æ¶**: React 19 + TypeScript 5.9
- **æ¨£å¼**: Tailwind CSS 4 + shadcn/ui
- **ç‹€æ…‹ç®¡ç†**: tRPC 11 (ç«¯åˆ°ç«¯é¡å‹å®‰å…¨)
- **åœ–è¡¨**: Recharts
- **è·¯ç”±**: Wouter
- **æ§‹å»ºå·¥å…·**: Vite

### å¾Œç«¯æŠ€è¡“æ£§
- **é‹è¡Œæ™‚**: Node.js 22
- **æ¡†æ¶**: Express 4 + tRPC 11
- **æ•¸æ“šåº«**: MySQL/TiDB (é€šé Drizzle ORM)
- **èªè­‰**: Manus OAuth
- **æ•¸æ“šæº**: Polymarket Subgraph (GraphQL)

### Python å¾Œç«¯æœå‹™
- **èªè¨€**: Python 3.11
- **æ¡†æ¶**: FastAPI
- **åŠŸèƒ½**:
  - åœ°å€å¯ç–‘åº¦åˆ†æ
  - å¸‚å ´åƒ¹æ ¼æ­·å²åŒæ­¥
  - åƒ¹æ ¼è®Šå‹•æª¢æ¸¬
  - è­¦å ±æª¢æ¸¬æœå‹™

## ğŸ“ é …ç›®çµæ§‹

```
polymarket-insights/
â”œâ”€â”€ client/                 # å‰ç«¯ä»£ç¢¼
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/         # é é¢çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/    # UI çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ lib/           # å·¥å…·å‡½æ•¸
â”‚   â”‚   â””â”€â”€ App.tsx        # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ public/            # éœæ…‹è³‡æº
â”œâ”€â”€ server/                # Node.js å¾Œç«¯
â”‚   â”œâ”€â”€ routers.ts         # tRPC API è·¯ç”±
â”‚   â”œâ”€â”€ db.ts              # æ•¸æ“šåº«æŸ¥è©¢
â”‚   â””â”€â”€ _core/             # æ ¸å¿ƒåŠŸèƒ½ï¼ˆOAuthã€LLM ç­‰ï¼‰
â”œâ”€â”€ python-backend/        # Python åˆ†ææœå‹™
â”‚   â”œâ”€â”€ address_analyzer.py      # å¯ç–‘åº¦åˆ†æ
â”‚   â”œâ”€â”€ price_sync_service.py    # åƒ¹æ ¼åŒæ­¥
â”‚   â”œâ”€â”€ price_movement_detector.py  # åƒ¹æ ¼è®Šå‹•æª¢æ¸¬
â”‚   â””â”€â”€ alert_detector.py        # è­¦å ±æª¢æ¸¬
â”œâ”€â”€ drizzle/               # æ•¸æ“šåº« schema
â”‚   â””â”€â”€ schema.ts
â””â”€â”€ shared/                # å…±äº«é¡å‹å’Œå¸¸é‡
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒè¦æ±‚
- Node.js >= 22.0.0
- Python >= 3.11
- MySQL/TiDB æ•¸æ“šåº«

### å®‰è£ä¾è³´

```bash
# å®‰è£ Node.js ä¾è³´
pnpm install

# å®‰è£ Python ä¾è³´
cd python-backend
pip install -r requirements.txt
```

### ç’°å¢ƒè®Šé‡é…ç½®

å‰µå»º `.env` æ–‡ä»¶ä¸¦é…ç½®ä»¥ä¸‹ç’°å¢ƒè®Šé‡ï¼š

```env
# æ•¸æ“šåº«
DATABASE_URL=mysql://user:password@host:port/database

# OAuth
JWT_SECRET=your-jwt-secret
OAUTH_SERVER_URL=https://api.manus.im
VITE_OAUTH_PORTAL_URL=https://login.manus.im
VITE_APP_ID=your-app-id

# Manus å…§å»º API
BUILT_IN_FORGE_API_URL=https://forge.manus.im
BUILT_IN_FORGE_API_KEY=your-api-key
VITE_FRONTEND_FORGE_API_KEY=your-frontend-api-key
VITE_FRONTEND_FORGE_API_URL=https://forge.manus.im

# æ“æœ‰è€…ä¿¡æ¯
OWNER_OPEN_ID=your-open-id
OWNER_NAME=your-name
```

### æ•¸æ“šåº«é·ç§»

```bash
# æ¨é€ schema åˆ°æ•¸æ“šåº«
pnpm db:push
```

### å•Ÿå‹•é–‹ç™¼æœå‹™å™¨

```bash
# å•Ÿå‹• Node.js é–‹ç™¼æœå‹™å™¨ï¼ˆåŒ…å«å‰ç«¯å’Œå¾Œç«¯ï¼‰
pnpm dev

# åœ¨å¦ä¸€å€‹çµ‚ç«¯å•Ÿå‹• Python å¾Œç«¯æœå‹™
cd python-backend
python main.py
```

è¨ªå• http://localhost:3000 æŸ¥çœ‹æ‡‰ç”¨ã€‚

## ğŸ“Š æ•¸æ“šåº« Schema

### æ ¸å¿ƒè¡¨

- **addresses** - äº¤æ˜“è€…åœ°å€ä¿¡æ¯å’Œçµ±è¨ˆæ•¸æ“š
- **address_trades** - è©³ç´°çš„äº¤æ˜“è¨˜éŒ„
- **markets** - å¸‚å ´ä¿¡æ¯
- **trades** - å¸‚å ´äº¤æ˜“è¨˜éŒ„
- **market_price_history** - å¸‚å ´æ­·å²åƒ¹æ ¼æ•¸æ“š
- **market_anomalies** - å¸‚å ´åƒ¹æ ¼ç•°å¸¸è¨˜éŒ„

### è­¦å ±ç³»çµ±è¡¨

- **alert_subscriptions** - ç”¨æˆ¶è¨‚é–±è¨˜éŒ„
- **alert_notifications** - è­¦å ±é€šçŸ¥è¨˜éŒ„

## ğŸ”§ å¯ç–‘åº¦è©•ä¼°ç®—æ³•

Bentana Insights ä½¿ç”¨å¤šç¶­åº¦è©•ä¼°ç³»çµ±ä¾†è¨ˆç®—åœ°å€çš„å¯ç–‘åº¦åˆ†æ•¸ï¼ˆ0-100ï¼‰ï¼š

### è©•ä¼°ç¶­åº¦

1. **å‹ç‡ç•°å¸¸é«˜** (30 åˆ†)
   - è©•ä¼°æ¨™æº–ï¼šå‹ç‡ > 70%
   - æ¬Šé‡ï¼š30%

2. **ç¶“å¸¸æ—©æœŸä¸‹æ³¨** (25 åˆ†)
   - è©•ä¼°æ¨™æº–ï¼šåœ¨å¸‚å ´é–‹æ”¾å¾Œçš„å‰ 20% æ™‚é–“å°±é–‹å§‹äº¤æ˜“
   - æ¬Šé‡ï¼š25%

3. **å¤§é¡äº¤æ˜“** (20 åˆ†)
   - è©•ä¼°æ¨™æº–ï¼šå¹³å‡äº¤æ˜“é¡ > $5,000
   - æ¬Šé‡ï¼š20%

4. **æ™‚æ©Ÿç²¾æº–** (15 åˆ†)
   - è©•ä¼°æ¨™æº–ï¼šå¹³å‡æŒå€‰æ™‚é–“çŸ­ï¼Œä½†å‹ç‡é«˜
   - æ¬Šé‡ï¼š15%

5. **é¸æ“‡æ€§åƒèˆ‡** (10 åˆ†)
   - è©•ä¼°æ¨™æº–ï¼šåªåƒèˆ‡ç‰¹å®šé¡å‹çš„å¸‚å ´
   - æ¬Šé‡ï¼š10%

### ç¶œåˆè©•åˆ†è¨ˆç®—

```
ç¸½åˆ† = (å‹ç‡åˆ†æ•¸ Ã— 0.3) + (æ—©æœŸäº¤æ˜“åˆ†æ•¸ Ã— 0.25) + (å¤§é¡äº¤æ˜“åˆ†æ•¸ Ã— 0.2) + (æ™‚æ©Ÿç²¾æº–åˆ†æ•¸ Ã— 0.15) + (é¸æ“‡æ€§åƒèˆ‡åˆ†æ•¸ Ã— 0.1)
```

### é¢¨éšªç­‰ç´šåˆ†é¡

- **æ¥µé«˜é¢¨éšª** (80-100 åˆ†): æ¥µå¯èƒ½å…·æœ‰å…§å¹•ä¿¡æ¯
- **é«˜é¢¨éšª** (60-79 åˆ†): å¾ˆå¯èƒ½å…·æœ‰å…§å¹•ä¿¡æ¯
- **ä¸­ç­‰é¢¨éšª** (40-59 åˆ†): å¯èƒ½å…·æœ‰å…§å¹•ä¿¡æ¯
- **ä½é¢¨éšª** (0-39 åˆ†): æ­£å¸¸äº¤æ˜“è€…

## ğŸ”” è­¦å ±ç³»çµ±

### æ”¯æŒçš„è­¦å ±é¡å‹

1. **é«˜å¯ç–‘åº¦åœ°å€äº¤æ˜“** - ç•¶å¯ç–‘åº¦ >= 80 çš„åœ°å€é€²è¡Œäº¤æ˜“æ™‚è§¸ç™¼
2. **å¤§é¡äº¤æ˜“** - ç•¶äº¤æ˜“é‡‘é¡ >= $10,000 æ™‚è§¸ç™¼
3. **åƒ¹æ ¼ç•°å¸¸** - ç•¶å¸‚å ´åƒ¹æ ¼è®Šå‹• >= 20% æ™‚è§¸ç™¼

### é€šçŸ¥å»é‡

ç³»çµ±æœƒè‡ªå‹•å»é‡é€šçŸ¥ï¼Œé¿å…åœ¨çŸ­æ™‚é–“å…§ï¼ˆ24 å°æ™‚ï¼‰é‡è¤‡ç™¼é€ç›¸åŒé¡å‹çš„è­¦å ±ã€‚

## ğŸ“ˆ API æ–‡æª”

### tRPC API ç«¯é»

#### Addresses
- `addresses.getLeaderboard` - ç²å–åœ°å€æ’è¡Œæ¦œ
- `addresses.getById` - ç²å–å–®å€‹åœ°å€è©³æƒ…
- `addresses.search` - æœç´¢åœ°å€
- `addresses.compare` - æ¯”è¼ƒå¤šå€‹åœ°å€

#### Markets
- `markets.getAll` - ç²å–æ‰€æœ‰å¸‚å ´
- `markets.getById` - ç²å–å–®å€‹å¸‚å ´è©³æƒ…

#### Alert Subscriptions
- `alertSubscriptions.list` - ç²å–ç”¨æˆ¶çš„æ‰€æœ‰è¨‚é–±
- `alertSubscriptions.create` - å‰µå»ºæ–°è¨‚é–±
- `alertSubscriptions.update` - æ›´æ–°è¨‚é–±
- `alertSubscriptions.delete` - åˆªé™¤è¨‚é–±

#### Alert Notifications
- `alertNotifications.list` - ç²å–é€šçŸ¥åˆ—è¡¨
- `alertNotifications.getUnreadCount` - ç²å–æœªè®€é€šçŸ¥æ•¸é‡
- `alertNotifications.markAsRead` - æ¨™è¨˜é€šçŸ¥ç‚ºå·²è®€
- `alertNotifications.markAllAsRead` - æ¨™è¨˜æ‰€æœ‰é€šçŸ¥ç‚ºå·²è®€

## ğŸ› ï¸ é–‹ç™¼æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. **æ›´æ–°æ•¸æ“šåº« Schema**
   ```typescript
   // drizzle/schema.ts
   export const newTable = sqliteTable('new_table', {
     id: integer('id').primaryKey(),
     // ...
   });
   ```

2. **æ·»åŠ æ•¸æ“šåº«æŸ¥è©¢æ–¹æ³•**
   ```typescript
   // server/db.ts
   export async function getNewData() {
     return await db.select().from(newTable);
   }
   ```

3. **å‰µå»º tRPC API**
   ```typescript
   // server/routers.ts
   newFeature: publicProcedure
     .query(async () => {
       return await getNewData();
     }),
   ```

4. **å¯¦ä½œå‰ç«¯çµ„ä»¶**
   ```tsx
   // client/src/pages/NewFeature.tsx
   const { data } = trpc.newFeature.useQuery();
   ```

### é‹è¡Œæ¸¬è©¦

```bash
# é‹è¡Œå–®å…ƒæ¸¬è©¦
pnpm test

# é‹è¡Œç‰¹å®šæ¸¬è©¦æ–‡ä»¶
pnpm test server/auth.logout.test.ts
```

## ğŸ¤ è²¢ç»æŒ‡å—

æ­¡è¿è²¢ç»ï¼è«‹éµå¾ªä»¥ä¸‹æ­¥é©Ÿï¼š

1. Fork æœ¬é …ç›®
2. å‰µå»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤è®Šæ›´ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. é–‹å•Ÿ Pull Request

## ğŸ“ å¾…è¾¦äº‹é …

æŸ¥çœ‹ [todo.md](./todo.md) äº†è§£é …ç›®çš„è©³ç´°é–‹ç™¼è¨ˆåŠƒå’Œé€²åº¦ã€‚

### è¿‘æœŸè¨ˆåŠƒ

- [ ] å¯¦ä½œå®šæœŸè­¦å ±æƒæä»»å‹™ï¼ˆæ¯ 5-10 åˆ†é˜åŸ·è¡Œä¸€æ¬¡ï¼‰
- [ ] å¾ Polymarket Subgraph åŒæ­¥è©³ç´°äº¤æ˜“è¨˜éŒ„
- [ ] æ·»åŠ å°èˆªæ¬„é€šçŸ¥åœ–æ¨™å’Œæœªè®€æ•¸é‡å¾½ç« 
- [ ] å¯¦ä½œå¸‚å ´è©³æƒ…é é¢
- [ ] æ·»åŠ æ›´å¤šåœ–è¡¨é¡å‹ï¼ˆæŸ±ç‹€åœ–ã€æŠ˜ç·šåœ–ï¼‰

## ğŸ“„ æˆæ¬Š

æœ¬é …ç›®æ¡ç”¨ MIT æˆæ¬Š - è©³è¦‹ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ‘¥ ä½œè€…

- **é–‹ç™¼è€…** - [hon0319](https://github.com/hon0319)

## ğŸ™ è‡´è¬

- [Polymarket](https://polymarket.com/) - é æ¸¬å¸‚å ´å¹³å°
- [Manus](https://manus.im/) - é–‹ç™¼å¹³å°å’ŒåŸºç¤è¨­æ–½
- [shadcn/ui](https://ui.shadcn.com/) - UI çµ„ä»¶åº«
- [tRPC](https://trpc.io/) - ç«¯åˆ°ç«¯é¡å‹å®‰å…¨çš„ API

## ğŸ“ è¯ç¹«æ–¹å¼

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹é€šéä»¥ä¸‹æ–¹å¼è¯ç¹«ï¼š

- æäº¤ [Issue](https://github.com/hon0319/polymarket-insights/issues)
- ç™¼é€ Pull Request

---

**âš ï¸ å…è²¬è²æ˜**: æœ¬å¹³å°æä¾›çš„å¯ç–‘åº¦åˆ†æ•¸å’Œåˆ†æåƒ…ä¾›åƒè€ƒï¼Œä¸æ§‹æˆæŠ•è³‡å»ºè­°ã€‚ç”¨æˆ¶æ‡‰è‡ªè¡Œåˆ¤æ–·ä¸¦æ‰¿æ“”æŠ•è³‡é¢¨éšªã€‚
